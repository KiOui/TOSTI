{% load static %}

{% if not refresh %}
    <footer class="page-footer navbar navbar-expand-md fixed-bottom" id="footer-container">
{% endif %}
<div class="container text-center">
    <div class="row flex-grow-1 navbar-collapse collapse" id="footer-menu">
        <div class="col expand-mobile">
            <div id="shift-status-{{ shift.id }}" class="btn-ml m-auto cursor-pointer {% if shift.can_order %}bg-success{% else %}bg-danger{% endif %}" onclick="toggle_shift_activation(this);">
                <i class="far fa-hand-paper"></i>
                <p class="font-footer">Allow/disallow orders</p>
            </div>
        </div>
        <div class="col expand-mobile">
            <div class="btn-ml btn-on m-auto" onclick="add_time();">
                <i class="far fa-clock"></i> + 5
                <p class="font-footer">Postpone end time</p>
            </div>
        </div>
        <div class="col expand-mobile">
            <div class="btn-ml btn-on m-auto" onclick="add_capacity();">
                <i class="fas fa-list"></i> + 5
                <p class="font-footer">Allow more orders</p>
            </div>
        </div>
        <div class="col expand-mobile">
            <div class="btn-ml btn-on m-auto w-100" onclick="window.location.href = '{% url "orders:shift_overview" shift=shift %}';">
                <i class="fas fa-users"></i>
                <p class="font-footer">Go to order page</p>
            </div>
        </div>
        <div class="col expand-mobile">
            <div class="btn-ml btn-on m-auto w-100" onclick="window.location.href = '{% url "admin:orders_shift_change" shift.id %}';">
                <i class="fas fa-cog"></i>
                <p class="font-footer">Go to detailed settings</p>
            </div>
        </div>
    </div>
    <button class="navbar-toggler m-auto" style="border: 0" type="button" data-toggle="collapse" data-target="#footer-menu">
        <i class="fas fa-caret-up text-white"></i>
    </button>
</div>
{% if not refresh %}
    </footer>
{% endif %}

{% if not refresh %}
    <link rel="stylesheet" href="{% static 'orders/css/admin-footer.css' %}"/>
    <script src="{% static 'orders/js/asynch-update-admin-footer.js' %}"></script>
    <script>
        add_update_list(update_and_callback,
            ["{% url 'orders:shift_refresh_admin_footer' shift=shift %}",
                {},
                replace_footer,
                document.getElementById('shift-status-{{ shift.id }}')
            ]
        );
    </script>
{% endif %}